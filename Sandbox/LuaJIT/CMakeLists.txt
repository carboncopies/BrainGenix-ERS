cmake_minimum_required (VERSION 3.0)

# Handle superbuild first
option (USE_SUPERBUILD "Whether or not a superbuild should be invoked" ON)

set(LIB_DIR ${CMAKE_CURRENT_SOURCE_DIR}/ThirdParty)

if (USE_SUPERBUILD)
  project (SUPERBUILD NONE)
  message("Performing Initial Superbuild To Create Third-Party Libs")
  # execute the superbuild (this script will be invoked again without the
  # USE_SUPERBUILD option this time)
  include (cmake/SuperBuild.cmake)
  return()                      # stop processing this file further
else()
  project (Test-Project) # <-- YOUR PROJECT NAME HERE
  message("Performing Second Pass Run To Build Project")
endif()

#
# <usual CMakeLists.txt stuff goes here...>
#

set (CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)
set (CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set (CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)

add_subdirectory (src)
